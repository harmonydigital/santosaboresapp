<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <meta name="theme-color" content="black">
    <title>Santo Sabores Restaurante por Kilo</title>
    <link rel="shortcut icon" href="favico.png" type="image/png">
    <link rel="stylesheet" href="assets/css/app.css">  
    <link rel="stylesheet" href="assets/css/validation.css">  
    <link rel="stylesheet" href="assets/css/inputs.css">  
    <link rel="stylesheet" href="assets/css/cart.css">  
    <link rel="stylesheet" href="assets/components/user/user.css">  
    <link rel="stylesheet" href="assets/components/menu/menu.css">  
    <link rel="stylesheet" href="assets/components/search/search.css">  
    <link rel="stylesheet" href="assets/components/categorias/categorias.css">  
    <link rel="stylesheet" href="assets/components/product/product.css">  
    <link rel="stylesheet" href="assets/components/mediasocial/mediasocial.css">  
    <link rel="stylesheet" href="assets/components/swiper/swiper.css">  
    <link rel="stylesheet" href="assets/components/banners/banners.css">  
    <link rel="stylesheet" href="assets/components/checkout/checkout.css">   
    <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@100;200;300;400;700;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  </head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-M6V894RP7L"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-M6V894RP7L');
  </script>

  <script>  

    var url = window.location;
    var path = window.location; 
    if(path.host=="harmonydigital.github.io"){
      path=path.pathname
      console.log("prod",path)
      console.log("local",window.location)

    }else{
      path=""
      console.log("local",window.location)

    }
  </script>
  <body>
    
    <div id="list"></div>

    <div class="validation" id="validation" >
      <div class="container ">
        <div class="row align-items-center d-flex justify-content-between">

          
          <div class="col-5">
      
              <a class="icon-link mb-1" href="https://github.com/twbs/examples/tree/main/icons-font" rel="noopener" target="_blank">
                (12) 99602-0682 <i class="fa-brands fa-whatsapp"></i>
              </a>
          </div>

          <div class="col-5">
            <button id="btnFullScreen" onclick="fullScreen()"><i style="color: red;" class="fa-solid fa-expand"></i></button>
            
          </div>

          

      </div>
    </div>
      <div class="content">
        
        <img src="assets/images/logo.png" alt="">
      </div>
      <form action="">
        <div class="content-text">
          <h1>Santo Sabores App<strong></strong></h1>
          <img class="boy" src="assets/images/motoboy.png" alt="" hidden>

        </div>
        <div class=" ">
          

          <div class="input-group mb-3">
            <span class="input-group-text">@</span>
            <div class="form-floating">
        

              <input id="userName" type="text" class="form-control" id="floatingInputGroup1" placeholder="Digite seu nome" required>
              <label for="floatingInputGroup1">Digite seu Nome</label>
            </div>
          </div>
        </div>

       
        
        <div class="select mylabel" hidden>
          
          <select class="form-select" id="selectValidate" required>
            <option value="1">Selecione a forma de retirada</option>
            <!-- <option value="2">Delivery</option> -->
            <option value="3">Mesa</option>
          </select>
        </div>

        <button type="submit" onclick="validation(event)" value="submit" class="btn btn-primary" >Cardápio

          <i class="fa-solid fa-right-to-bracket"></i>
        </button>
        
        <div class="socialmedia">
          <h5> Siga </h5>
          <div class="links">
            <a href="https://www.instagram.com/goodvibesadega/" target="_blank" ><img src="assets/images/instagram.png"></a>
            <!-- <a href="#" ><img src="assets/images/facebook.png"></a> -->
          </div>
        </div>
      </form>
    </div> 

      <script>
      // style="background-image: url(assets/images/bg-validation.png);"
      loginContainer=document.getElementById('validation')

     
      </script>

    <!-- CHECKOUT -->
    <div class="checkout" id="checkout">

        <div class="controls">  
          <button onclick="closeCheckout()"> <i class="fa-solid fa-chevron-left"></i></button>
          <button onclick="closeCheckout()"><i class="fa-solid fa-xmark"></i></button>
        </div>

        <div class="content">
          <h2>Finalizar Pedido </h2>
        </div>

        <form id="checkoutform" class="checkoutform" >
            <div>
              <label style="
                width: 100%;
                height: auto;
                ">
              Forma de retirada:
              </label> 
              <div class="mylabel select">
               
                <select class="form-select" aria-label="Large select example" onchange="formaRetirada()" id="selectCheckout">
                  <option value="1">Selecione a forma de retirada</option>
                  <option value="balcao">Delivery</option>
                  <option value="mesa">Mesa</option>
                </select>
              </div>

 


              <div id="setMesa" class="input-group input-group-lg"  style="display:none">
                
                <input class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-lg" id="inputMesa"  type="number" placeholder="Digite o numero da mesa">
              </div>
              <div id="whatsappId"  style="display: none; ">
                <!-- <span>Receba notificação via whatsapp </span> -->
                <div id="setPhone" class="mylabel" >
                  
                  <input id="inputLocation"  type="text" placeholder="Endereço de entrega..." class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-lg" >
                </div>

                <div id="setEnd" class="mylabel" >
                   
                  <input id="inputMesa"  type="number" placeholder="Numero celular whatsapp" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-lg">
                </div>
              </div>
              
            </div>
 
            <div class=" "  >
            
                  <textarea id="areaObs" placeholder="Digite observações do seu pedido" class="form-control" aria-label="With textarea"></textarea>
                </div>
                <div id="mgg"></div>
                <div class="total" id="totalfinesh"> 
                  <button type="submit" id="submitCheck">ENVIAR MEU PEDIDO <i class="fa-solid fa-paper-plane"></i> </button>
                </div>
            </div>
        </form>
        <!-- Mensagem Enviando -->
        <div id="msgLoad" class="msgLoad">
          <img src="assets/images/logo.png">
          <h3>Aguarde </h3>
          <p>Estamos enviando seu pedido</p>
          <img src="assets/images/loading.gif">
          <!-- <button>Cancelar</button>  -->
        </div> 
    </div>


    <div class="">
      </div>  
    <div class="user" id="user"></div>
    <div class="cart" id="cart">  </div>



    <header>
      <div class="container">
         
      

        <div class="menu">
          <ul> 
            <button id="cartPreview">
              <i class="fa-solid fa-cart-shopping"></i>
            </button>
            
          </ul>
        </div>

        <div class="search">
          <form class="d-flex">
            <input  onclick="getSearch(event)" type="text" placeholder="Buscar produtos...">

            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success" type="submit">Search</button>
         
          </form>
          <form>
            
            <div class="mylabel">
              
            
            </div>
            <div id="contentSearch" class="contentSearch">
              <!-- CONTROLES -->
              <div class="controls">
                <button onclick="getSearch(event)">
                  <svg class="svg-inline--fa fa-chevron-left" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg="">
                    <path fill="currentColor" d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 278.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"></path>
                  </svg>
                  <!-- <i class="fa-solid fa-chevron-left"></i> Font Awesome fontawesome.com -->
                </button>
                <button onclick="getSearch(event)">
                  <svg class="svg-inline--fa fa-xmark" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="xmark" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" data-fa-i2svg="">
                    <path fill="currentColor" d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"></path>
                  </svg>
                  <!-- <i class="fa-solid fa-xmark"></i> Font Awesome fontawesome.com -->
                </button>
              </div>
              <div class="mylabel" style="position: inherit;width: 100%;margin-top: 50px;margin-bottom: 10px;margin-left: 10px;"> 
                <label>  
                    <i class="fa-solid fa-magnifying-glass"></i>
                </label>
                <input id="serchInput" type="text" placeholder="Digite sua busca"> 
              </div>
            </div>
          </form>
          <div id="searchResult"></div>
        </div>


      </div>   

    </header>
    

    <div class="container"> 
      <div id="categories" class="categories"> </div>
    </div>   

  </body>
      
  
 </html>
 <script src="assets/components/swiper/swiper.js"></script>

 <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js" integrity="sha512-WFN04846sdKMIP5LKNphMaWzU7YpMyCU245etK3g/2ARYbPK9Ub18eG+ljU96qKRCWh+quCY7yefSmlkQw1ANQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> 
 <script src="assets/components/api/apidb.js"></script>
 <script src="assets/js/all.js"></script>
 <script src="assets/components/relogio/relogio.js"></script>
 <script src="assets/components/checkout/animatedCheckOut.js"></script>
 <script src="assets/components/checkout/checkout.js"></script>
 <script src="assets/components/categorias/categorias.js"></script>
 <script src="assets/components/api/api-categorias.js"></script>
 <script src="assets/components/orders/ordermore.js"></script>
 <script src="assets/components/search/search.js"></script>
 <script src="assets/js/validation.js"></script>
 <script src="assets/js/cart.js"></script>

 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

 <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
 <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
 <script src="assets/js/app.js"></script>

 <script type="module">
 
    const firebaseConfig = {
      apiKey: "AIzaSyBSmJAJ7i6uYot9x4MW3gfYR_jNKp0O-_0",
      authDomain: "harmonydigi-24166.firebaseapp.com",
      projectId: "harmonydigi-24166",
      storageBucket: "harmonydigi-24166.firebasestorage.app",
      messagingSenderId: "970946599618",
      appId: "1:970946599618:web:cbc5169ad9f50e2518795b"
    }; 

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig); 

      // Initialize Cloud Firestore and get a reference to the service
      const db = firebase.firestore();


      let btnSubmit=document.getElementById('submitCheck')
      let list = document.getElementById("notifications") 
      let form = document.querySelector(".checkoutform")
      let horaAtual=relogio()
      let horaReplace=horaAtual.replace(/[^0-9]/g, '')
      let databaseDeliveryArr=[]
      var cardapiobd=[]

      let databaseMesas=[] 
      let entregaPed=false


 //SUBMIT CHECKOUT AND UPDATE 
 form.addEventListener('submit', function(e){

    e.preventDefault()  
    let idspedidosRecebidos=[]
    let pedidoAtual=[]
    let btnSubmitOrder=e.submitter

    

    allordersBuy=[{ 
        idPedido:Math.floor(Math.random() * 1000).toString(),
        data:dataHora(),
        hora:relogio(),
        itens:prodsSelct,
        location:locationvalue, 
        observacao:obs 
    }]


   
      if(inpuMVaue!=0){  //INPUT MESA PREENCHIDO

            //Load 
            document.getElementById('msgLoad').style.cssText='display:flex' 
            btnSubmitOrder.setAttribute("disabled", true)

            let intMesaValue=String(parseInt(inpuMVaue)) 
                databaseMesas.map((baseMap)=>{ 
                      if(baseMap.mesa==intMesaValue){ //VERIFICA EXISTENCIA  
                          baseMap.orders.map((mapOrders)=>{ 
                              recebePedidos.push(mapOrders)  

                          }) 

                      }  
                })
              
              allordersBuy.map((atualOrderMap)=>{
                recebePedidos.push(atualOrderMap) 
                pedidoAtual.push(atualOrderMap.idPedido) 

              })     
              

              //<==================Pedidos Mesas
              db.collection('mesasOpen').doc(intMesaValue).set({  
                mesa:intMesaValue,
                orders:recebePedidos,  //<==================Pedidos Recebidos
                
              })

              
              db.collection('notificacoes').doc(horaReplace).set({  
                mesa:intMesaValue,
                orders:allordersBuy,  //<==================Pedidos Recebidos
                "key":horaReplace,
                hora:horaAtual
              }) 


              // MENSAGEM WHATSAPP PEDIDO MESA
         
              setTimeout(function(){
                    alert('Seu pedido foi entregue ao restaurante')

                         
                   var url = "https://wa.me/5512996048083?text=" // Seu numero
                            + "*Olá, novo pedido pelo APP <3*" + "%0a" // Mensagem personalizada
                            + "%0a" // Quebra de linha
                            + "*Tipo*: Mesa" + "%0a" // Dados do formulário
                            + "*nº mesa*: " +intMesaValue + "%0a" // Dados do formulário
                            + "*Nome*: " + inputUserName + "%0a"
                            + "%0a" // Quebra de linha
                            + "*Pedido itens:*" + "%0a" // Mensagem personalizada
                             //<==================Pedidos Recebidos
                            allordersBuy.map((currentOrderMap)=>{
                                  currentOrderMap.itens.map((currentItensMap)=>{
                                    url+=""+currentItensMap.quantidade+"un." +currentItensMap.name + "%0a" // Mensagem personalizada
                                    console.log(totalCart)
                                  })
                            })
                            url+="*Observações do pedido*: " + observacaoPedido + "%0a" 
                              + "%0a" 
                              + " *Total da Compra*: " + "%0a"
                              + totalCart.toLocaleString('pt-br',{style: 'currency', currency: 'BRL'}) + "%0a" // Mensagem personalizada
                           
                            window.location.href=url;


                    setTimeout(function(){
                      location.reload() 
                    }, 3000);

              }, 2000);


              setTimeout(function(){
              
                 databaseMesas.map((baseMap)=>{ 
                 if(baseMap.mesa==intMesaValue){ //VERIFICA EXISTENCIA  
                        baseMap.orders.map((mapOrders)=>{ 
                            idspedidosRecebidos.push(mapOrders.idPedido) 
                           
                            pedidoAtual.map((mapIdAtual)=>{ 
                                idspedidosRecebidos.map((recebidosMap)=>{ 
                                  
                                      if(recebidosMap===mapIdAtual){
                                        entregaPed=true 
                                      }else{
                                  
                                      entregaPed=false

                                      }
                                      
                                }) 

                            }) 
                              
                         

                        }) 

                    } 
  
                })


                if(entregaPed==true){
                  alert('O restaurante recebeu seu pedido, aguarde!')
                  setTimeout(function(){  
                     
                   var url = "https://wa.me/5512996048083?text=" // Seu numero
                            + "*Olá, novo pedido pelo APP <3*" + "%0a" // Mensagem personalizada
                            + "%0a" // Quebra de linha
                            + "*Tipo*: Mesa" + "%0a" // Dados do formulário
                            + "*nº mesa*: " +intMesaValue + "%0a" // Dados do formulário
                            + "*Nome*: " + inputUserName + "%0a"
                            + "%0a" // Quebra de linha
                            + "*Pedido itens:*" + "%0a" // Mensagem personalizada
                             //<==================Pedidos Recebidos
                            allordersBuy.map((currentOrderMap)=>{
                                  currentOrderMap.itens.map((currentItensMap)=>{
                                    url+=""+currentItensMap.quantidade+"un." +currentItensMap.name + "%0a" // Mensagem personalizada
                                    console.log(totalCart)
                                  })
                            })
                            url+="*Observações do pedido*: " + observacaoPedido + "%0a" 
                              + "%0a" 
                              + " *Total da Compra*: " + "%0a"
                              + totalCart.toLocaleString('pt-br',{style: 'currency', currency: 'BRL'}) + "%0a" // Mensagem personalizada
                           
                            window.location.href=url;

                  }, 2000);
                  form.reset() 


                     

                }else{
                  alert('Enviando novamente')
                  // form.submit()
                  btnSubmit.click();
                }
              

              }, 3000);

 
     
            

      }else if(inpuMWhats!="") {
        
    
        //Load 
        document.getElementById('msgLoad').style.cssText='display:flex'
        btnSubmitOrder.setAttribute("disabled", true)

        let initF=true  // FALSE PARA MAQUINA DELIVERY 
 
        if(databaseDeliveryArr.length>0){
          let idClient=localStorage.getItem("idClient");

            console.log('DELIVERY TODOS',databaseDeliveryArr)
            console.log('ID DO CLIENTE',idClient)
            function orderSend(){ 



              
              setTimeout(function(){ 
                               
                               var url = "https://wa.me/5512996048083?text=" // Seu numero
                                 + "*Olá, novo pedido pelo APP <3*" + "%0a" // Mensagem personalizada
                                 + "%0a" // Quebra de linha
                                 + "*Tipo*: Delivery" + "%0a" // Dados do formulário
                                 + "*Whatsapp*: " +inpuMWhats + "%0a" // Dados do formulário
                                 + "*Endereço*: " +locationvalue + "%0a" // Dados do formulário
                                 + "*Nome*: " + inputUserName + "%0a"

                                 + "%0a" // Quebra de linha
                                 + "*Pedido itens:*" + "%0a" // Mensagem personalizada
                                 //<==================Pedidos Recebidos
                                 allordersBuy.map((currentOrderMap)=>{
                                       currentOrderMap.itens.map((currentItensMap)=>{
                                         url+=""+currentItensMap.quantidade+"un." +currentItensMap.name + "%0a" // Mensagem personalizada
                                         
                                       })
                                 })
                                 
                                 url+="*Observações do pedido*: " + observacaoPedido + "%0a" 
                                 + "%0a"  
                                 + " *Total da Compra*: " + "%0a"
                                 + totalCart.toLocaleString('pt-br',{style: 'currency', currency: 'BRL'}) + "%0a" // Mensagem personalizada
                               

                                 if(initF==true){
                                   window.location.href=url; 
                                 }

                         }, 1500);


    
              



            }


          databaseDeliveryArr.map((mapDataDelivery)=>{ 

                 
                  
                      if(mapDataDelivery.id==idClient){ 
                          mapDataDelivery.orders.map((ordersMap)=>{ 
                            recebePedidos.push(ordersMap) 
                            console.log("Pedidos banco",ordersMap)

                          }) 
                      } 
 
                  })

                  // PEDIDO DA ULTIMA SESSÃO
                  allordersBuy.map((atualOrderMap)=>{
                        recebePedidos.push(atualOrderMap)
                  })
                  // VAR TODOS OS PEDIDOS DO CLIENT ID >>>>>>>>>>> recebePedidos

                  let userNameString=inputUserName.toLowerCase().replace(/\s/g, '');

                      
                      if(initF==true){ 
                          // ENVIA PEDIDO DELIVERY
                          db.collection('delivery').doc(idClient).set({  
                                "name":userNameString,
                                "id":idClient,
                                "whatsapp":inpuMWhats,
                                orders:recebePedidos   
                          }) 

                          // ENVIA NOTIFICACAO DELIVERY
                          db.collection('notificacoes').doc(horaReplace).set({  
                                "name":userNameString,
                                "whatsapp":inpuMWhats,
                                "key":horaReplace, 
                                orders:allordersBuy,   
                                hora:horaAtual 
                          }) 
                        }
                        
                      // ENVIA PEDIDO WHATSAPP
                      setTimeout(function(){ 
                        databaseDeliveryArr.map((delverymap)=>{ 
                          delverymap.orders.map((mapOrdersDelivery)=>{ 
                            

                            allordersBuy.map((atuaIdOrder)=>{  

                              if(atuaIdOrder.idPedido===mapOrdersDelivery.idPedido){
 
                                var sendOrder=true
                              

                                setTimeout(function(){ 
                               
                                      var url = "https://wa.me/5512996048083?text=" // Seu numero
                                        + "*Olá, novo pedido pelo APP <3*" + "%0a" // Mensagem personalizada
                                        + "%0a" // Quebra de linha
                                        + "*Tipo*: Delivery" + "%0a" // Dados do formulário
                                        + "*Whatsapp*: " +inpuMWhats + "%0a" // Dados do formulário
                                        + "*Endereço*: " +locationvalue + "%0a" // Dados do formulário
                                        + "*Nome*: " + inputUserName + "%0a"

                                        + "%0a" // Quebra de linha
                                        + "*Pedido itens:*" + "%0a" // Mensagem personalizada
                                        //<==================Pedidos Recebidos
                                        allordersBuy.map((currentOrderMap)=>{
                                              currentOrderMap.itens.map((currentItensMap)=>{
                                                url+=""+currentItensMap.quantidade+"un." +currentItensMap.name + "%0a" // Mensagem personalizada
                                                
                                              })
                                        })
                                        
                                        url+="*Observações do pedido*: " + observacaoPedido + "%0a" 
                                        + "%0a"  
                                        + " *Total da Compra*: " + "%0a"
                                        + totalCart.toLocaleString('pt-br',{style: 'currency', currency: 'BRL'}) + "%0a" // Mensagem personalizada
                                      

                                        if(initF!=false){
                                          window.location.href=url; 
                                        }

                                }, 1500);




                              }

                            }) 
                          })
                        })
                      }, 2000);

                      if(sendOrder){
                        orderSend()
                      }

        }else{ 

              let userNameString=inputUserName.toLowerCase().replace(/\s/g, '');
              let idClient=localStorage.getItem("idClient");
              db.collection('delivery').doc(idClient).set({  
                "name":userNameString,
                "id":idClient, 
                "whatsapp":inpuMWhats, 
                orders:allordersBuy  //<==================Pedidos Recebidos
                
              })  
 
              const horaAtual=relogio()
              
              db.collection('notificacoes').doc(horaReplace).set({  
                "name":userNameString,
                "whatsapp":inpuMWhats,
                "key":horaReplace,
                orders:allordersBuy,  //<==================Pedidos Recebidos
                hora:horaAtual
              })  
            
             
           
              
              setTimeout(function(){ 
                               
                               var url = "https://wa.me/5512996048083?text=" // Seu numero
                                 + "*Olá, novo pedido pelo APP <3*" + "%0a" // Mensagem personalizada
                                 + "%0a" // Quebra de linha
                                 + "*Tipo*: Delivery" + "%0a" // Dados do formulário
                                 + "*Whatsapp*: " +inpuMWhats + "%0a" // Dados do formulário
                                 + "*Endereço*: " +locationvalue + "%0a" // Dados do formulário
                                 + "*Nome*: " + inputUserName + "%0a"

                                 + "%0a" // Quebra de linha
                                 + "*Pedido itens:*" + "%0a" // Mensagem personalizada
                                 //<==================Pedidos Recebidos
                                 allordersBuy.map((currentOrderMap)=>{
                                       currentOrderMap.itens.map((currentItensMap)=>{
                                         url+=""+currentItensMap.quantidade+"un." +currentItensMap.name + "%0a" // Mensagem personalizada
                                         
                                       })
                                 })
                                 
                                 url+="*Observações do pedido*: " + observacaoPedido + "%0a" 
                                 + "%0a"  
                                 + " *Total da Compra*: " + "%0a"
                                 + totalCart.toLocaleString('pt-br',{style: 'currency', currency: 'BRL'}) + "%0a" // Mensagem personalizada
                                

                                 if(initF!=false){
                                   window.location.href=url; 
                                 }

                         }, 1500);


    
              

        }
     
      }else{
        alert('Prencha todos os campos!')
      } 
 
 })




//  REQUEST DE DADOS

 const currencyMenu=db.collection('cardapio') 
 currencyMenu.onSnapshot((snapshot) => {  
       var data=[]
        snapshot.forEach((doc) => { 
          data.push(doc.data())  
        });  
        getApi(categoriesContainer,data)  
    }, (error) => {
            console.log('Erro Notificações')

    });  


 //REQUEST MESAS
    const ordersLab=db.collection('mesasOpen') 
    ordersLab.onSnapshot((snapshot) => {  
      // let databaseMesas=[]
        snapshot.forEach((doc) => { 
          databaseMesas.push(doc.data())
 
        }); 
    }, (error) => {
            console.log('Erro Notificações')

    });

 //REQUEST DELIVERYS 
    const ordersLabDelivery=db.collection('delivery') 
    ordersLabDelivery.onSnapshot((snapshot) => {  
        snapshot.forEach((doc) => { 
          databaseDeliveryArr.push(doc.data())
        }); 
    }, (error) => {

        console.log('Erro Notificações')
        // ...
    });

 </script>
 
    
</body>
</html>
